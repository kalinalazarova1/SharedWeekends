@model SharedWeekends.MVC.ViewModels.UserViewModel
@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h3>
    User Profile.
</h3>
<div class="container">
    <div class="col-md-3">
        <ul class="list-group text-center">
            <li class="list-group-item">
                @Html.DisplayFor(m => m.Avatar)
            </li>
            <li class="list-group-item">
                @Html.DisplayFor(m => m.UserName)
            </li>
            <li class="list-group-item">
                @Html.DisplayFor(m => m.Rating)
            </li>
            <li class="list-group-item">
                <i class="glyphicon glyphicon-list pull-left"></i>
                @Html.ActionLink("Messages", "Index", "Messages", new { area = "UserCommunication" }, new { @class = "list-group-item-text" })
                <ul class="list-group">
                    <li class="list-group-item list-group-item-danger"><span class="badge">@Model.UnreadMessages</span>Unread Messages</li>
                    <li class="list-group-item list-group-item-success"><span class="badge">@Model.ReadMessages</span>Read Messages</li>
                </ul>
            </li>
        </ul>

        @using (Html.BeginForm("ChangeAvatar", "Profile", FormMethod.Post, new { @class = "form-horizontal", enctype = "multipart/form-data", role = "form" }))
        {
            @Html.AntiForgeryToken()
            <div class="form-group">
                @Html.LabelFor(m => m.Avatar, new { @class = "col-md-2 control-label" })
                <div class="col-md-10">
                    <input type="file" class="form-control" name="AvatarFile" />
                </div>
            </div>
            <div class="form-group">
                <div class="col-md-offset-2 col-md-10">
                    <input type="submit" class="btn btn-primary btn-sm" value="Change Avatar" />
                </div>
            </div>
        }
    </div>
    <div class="col-md-9">
        <ul class="nav nav-pills">
            <li class="active"><a href="#myWeekends" data-toggle="tab">My Shared Weekends</a></li>
            <li><a href="#myReviews" data-toggle="tab">My Reviews</a></li>
        </ul>
        <div id="myTabContent" class="tab-content">
            <div class="tab-pane fade active in fixeddouble" id="myWeekends">
                @Html.Action("GetMyWeekends")
            </div>
            <div class="tab-pane fade fixeddouble" id="myReviews">
                @Html.Action("GetMyReviews")
            </div>
        </div>
    </div>
</div>
